(this.webpackJsonptaxonomies=this.webpackJsonptaxonomies||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"Ebola":["27"],"Cholera":["25"],"Yellow Fever":["24"],"Other/unclassified Epidemics":["29"],"Zika":["26"]}')},101:function(e,t,a){e.exports=a(34)},12:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a(7),r=a(9),o=a(8),i=a(0),l=a.n(i),c=(a(18),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("h2",{className:"flex-row title"},"Disaster Taxonomies")}}]),a}(i.Component));t.default=c},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);t.default=[{group:"IFRC",name:"disaster_IFRC1",level:"1",url:"taxonomy_maps/disaster_IFRC1_base.json",urlOnline:"https://docs.google.com/spreadsheets/d/1ulGIFJIdwkOcBo2eAaQZ9-35mHY7XE0hrDufnMbL2fA/edit#gid=1143895699",type:"disaster"},{group:"IFRC",name:"disaster_IFRC2",level:"2",url:"taxonomy_maps/disaster_IFRC2_base.json",urlOnline:"https://docs.google.com/spreadsheets/d/1ulGIFJIdwkOcBo2eAaQZ9-35mHY7XE0hrDufnMbL2fA/edit#gid=125202705",type:"disaster"},{group:"IFRC",name:"disaster_IFRC3",level:"3",url:"taxonomy_maps/disaster_IFRC3_base.json",urlOnline:"https://docs.google.com/spreadsheets/d/1ulGIFJIdwkOcBo2eAaQZ9-35mHY7XE0hrDufnMbL2fA/edit#gid=1879432315",type:"disaster"},{group:"IFRC",name:"disaster_IFRC4",level:"4",url:"taxonomy_maps/disaster_IFRC4_base.json",urlOnline:"https://docs.google.com/spreadsheets/d/1ulGIFJIdwkOcBo2eAaQZ9-35mHY7XE0hrDufnMbL2fA/edit#gid=1174429856",type:"disaster"},{group:"GLIDE",name:"disaster_GLIDE1",level:"1",url:"taxonomy_maps/disaster_GLIDE1_base.json",urlOnline:"https://docs.google.com/spreadsheets/d/1ulGIFJIdwkOcBo2eAaQZ9-35mHY7XE0hrDufnMbL2fA/edit#gid=1971172407",type:"disaster"}]},195:function(e,t,a){var n={"./":34,"./0_header/Header":12,"./0_header/Header.js":12,"./1_upload_page/UploadPage":41,"./1_upload_page/UploadPage.js":41,"./2_select_column_page/SelectColumnPage":21,"./2_select_column_page/SelectColumnPage.js":21,"./3_select_taxonomy_from_page/SelectTaxonomyFromPage":28,"./3_select_taxonomy_from_page/SelectTaxonomyFromPage.js":28,"./4_select_taxonomy_to_page/SelectTaxonomyToPage":42,"./4_select_taxonomy_to_page/SelectTaxonomyToPage.js":42,"./5_mapping_process_page/MappingProcessPage":43,"./5_mapping_process_page/MappingProcessPage.js":43,"./App":27,"./App.css":18,"./App.js":27,"./App.less":196,"./App.min.css":197,"./App.test":95,"./App.test.js":95,"./index":34,"./index.css":94,"./index.js":34,"./logo.svg":198,"./process_maps/create_map.py":199,"./registerServiceWorker":44,"./registerServiceWorker.js":44,"./taxonomy_maps/config":19,"./taxonomy_maps/config.js":19,"./taxonomy_maps/disaster_GLIDE1_base":96,"./taxonomy_maps/disaster_GLIDE1_base.json":96,"./taxonomy_maps/disaster_IFRC1_base":97,"./taxonomy_maps/disaster_IFRC1_base.json":97,"./taxonomy_maps/disaster_IFRC2_base":98,"./taxonomy_maps/disaster_IFRC2_base.json":98,"./taxonomy_maps/disaster_IFRC3_base":99,"./taxonomy_maps/disaster_IFRC3_base.json":99,"./taxonomy_maps/disaster_IFRC4_base":100,"./taxonomy_maps/disaster_IFRC4_base.json":100};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=195},196:function(e,t,a){e.exports=a.p+"static/media/App.dafa1afe.less"},197:function(e,t,a){},198:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},199:function(e,t,a){e.exports=a.p+"static/media/create_map.76562cd4.py"},21:function(e,t,a){"use strict";a.r(t),a.d(t,"TableRows",(function(){return m}));var n=a(6),s=a(7),r=a(9),o=a(8),i=a(0),l=a.n(i),c=a(12),u=(a(18),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={buttonReady:"no",defaultText:" - Please select a column above"},s}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){null!==e.data&&e.crisisTag!==this.state.defaultText&&this.setState({buttonReady:"yes"}),null===e.data&&this.setState({buttonReady:"no"})}},{key:"componentDidMount",value:function(){var e=this.props.data;null!==e&&"tr"!==e.type&&0!==Object.keys(e).length&&this.props.crisisTag!==this.state.defaultText&&this.setState({buttonReady:"yes"})}},{key:"nextButton",value:function(){return"yes"!==this.state.buttonReady?l.a.createElement("div",{className:"NavButtonGreyed"},"Next"):l.a.createElement("div",{className:"NavButton",onClick:this.props.nextStep()},"Next")}},{key:"tableLoading",value:function(){return"yes"!==this.state.buttonReady&&null===this.props.data?l.a.createElement("div",{className:"waiting"},"No data found, please check your link is a JSON file."):"yes"!==this.state.buttonReady&&"tr"===this.props.data.type?this.props.data:l.a.createElement("div",{className:"flex-row"},l.a.createElement(d,{data:this.props.data,handleTagChange:this.props.handleTagChange,crisisTag:this.props.crisisTag}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"flex-page"},l.a.createElement(c.default,null),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",null,"Please select the ",l.a.createElement("b",null,"#crisis")," column you wish to map:")),this.tableLoading(),l.a.createElement("div",{className:"flex-row"},l.a.createElement("span",null,"You have selected \xa0"),l.a.createElement("b",null,this.props.crisisTag),"."),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",{className:"NavButton",onClick:this.props.previousStep()},"Back"),this.nextButton()))}}]),a}(i.Component)),d=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={data:s.props.data},s}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"render",value:function(){var e=this.state.data,t="",a="",n="",s="";if(null!==e&&"tr"!==e.type&&0!==Object.keys(e).length){var r={data:e,rowStart:0,rowEnd:1,className:""},o={data:e,rowStart:1,rowEnd:2,className:"clickable-cell"},i={data:e,rowStart:2,rowEnd:3,className:""},c={data:e,rowStart:3,rowEnd:4,className:""},u={data:e,rowStart:4,rowEnd:5,className:""};e=l.a.createElement(m,{parameters:r,handleTagChange:function(){}}),t=l.a.createElement(m,{parameters:o,handleTagChange:this.props.handleTagChange,crisisTag:this.props.crisisTag}),a=l.a.createElement(m,{parameters:i,handleTagChange:function(){}}),n=l.a.createElement(m,{parameters:c,handleTagChange:function(){}}),s=l.a.createElement(m,{parameters:u,handleTagChange:function(){}})}return l.a.createElement("table",{className:"scrollable-table"},l.a.createElement("tbody",null,e,t,a,n,s))}}]),a}(i.Component),m=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.parameters;return e.data=e.data.slice(e.rowStart,e.rowEnd),e.data.map((function(t,a){var n,s=t.map((function(t,a){if(null!==this.props.crisisTag&&void 0!==this.props.crisisTag){var s=this.props.crisisTag===t?"colorOn":"colorOff";n=e.className+" "+s}return l.a.createElement("td",{key:a,id:t,className:n||e.className,onClick:this.props.handleTagChange},t)}),this);return l.a.createElement("tr",{key:a},s)}),this)[0]}}]),a}(i.Component);t.default=u},27:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a(7),r=a(10),o=a(9),i=a(8),l=a(0),c=a.n(l),u=(a(18),a(41)),d=a(21),m=a(28),p=a(42),h=a(43),f=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={step:1,value:"https://docs.google.com/spreadsheets/d/1YxeSuB2FLOMjNkj4iH_4fwELqSar2FbBPgjd4u0hqQA/edit#gid=0",data:c.a.createElement("tr",null,c.a.createElement("td",{className:"waiting"},"Loading",c.a.createElement("span",{className:"loading-animation"},"..."))),crisisTag:" - Please select a column above",crisisColumnJson:"",mapFrom:"disaster_IFRC1",mapTo:"disaster_IFRC1"},s.handleLinkChange=s.handleLinkChange.bind(Object(r.a)(s)),s.handleTagChange=s.handleTagChange.bind(Object(r.a)(s)),s.handleMapFromChange=s.handleMapFromChange.bind(Object(r.a)(s)),s.handleMapToChange=s.handleMapToChange.bind(Object(r.a)(s)),s.getUserLink=s.getUserLink.bind(Object(r.a)(s)),s.getColumnData=s.getColumnData.bind(Object(r.a)(s)),s.nextAndSave=s.nextAndSave.bind(Object(r.a)(s)),s.nextAndGetColumn=s.nextAndGetColumn.bind(Object(r.a)(s)),s.previousStep=s.previousStep.bind(Object(r.a)(s)),s.nextStep=s.nextStep.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"handleLinkChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleTagChange",value:function(e){this.setState({crisisTag:e.target.id})}},{key:"handleMapFromChange",value:function(e){this.setState({mapFrom:e.target.id},(function(){console.log(this.state.mapFrom)}))}},{key:"handleMapToChange",value:function(e){this.setState({mapTo:e.target.id},(function(){console.log(this.state.mapTo)}))}},{key:"createHXLLink",value:function(e){return"https://proxy.hxlstandard.org/data.json?&url="+encodeURIComponent(e)+"&force=on"}},{key:"getUserLink",value:function(e){var t,a=this.createHXLLink(this.state.value);(t=a,new Promise((function(e,a){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="json",n.onload=function(){var t=n.status;200===t?e(n.response):a(t)},n.send()}))).then(function(e){this.setState({data:e})}.bind(this),function(e){alert("Something went wrong. Please make sure your spreadsheet is public to everyone on the internet."),this.setState({data:null})}.bind(this))}},{key:"getColumnData",value:function(e){var t=this.state.data,a=this.state.crisisTag,n=[],s=t[1].indexOf(a);t.forEach((function(e,t){1===t?n.push(e[s]):n.push(e[s].replace(/\b\w/g,(function(e){return e.toUpperCase()})))})),this.setState({crisisColumnJson:n})}},{key:"nextStep",value:function(){this.setState({step:this.state.step+1})}},{key:"previousStep",value:function(){this.setState({step:this.state.step-1})}},{key:"nextAndSave",value:function(){this.nextStep(),this.getUserLink()}},{key:"nextAndGetColumn",value:function(){this.nextStep(),this.getColumnData()}},{key:"showStep",value:function(){var e=this;switch(this.state.step){case 1:return c.a.createElement(u.default,{nextAndSave:this.nextAndSave,handleLinkChange:this.handleLinkChange,link:this.state.value,getUserLink:this.getUserLink});case 2:return c.a.createElement(d.default,{previousStep:function(){return e.previousStep},handleTagChange:this.handleTagChange,data:this.state.data,crisisTag:this.state.crisisTag,nextStep:function(){return e.nextAndGetColumn}});case 3:return c.a.createElement(m.default,{previousStep:function(){return e.previousStep},handleMapFromChange:this.handleMapFromChange,mapFrom:this.state.mapFrom,nextStep:function(){return e.nextStep}});case 4:return c.a.createElement(p.default,{previousStep:function(){return e.previousStep},handleMapToChange:this.handleMapToChange,mapTo:this.state.mapTo,nextStep:function(){return e.nextStep}});case 5:return c.a.createElement(h.default,{previousStep:function(){return e.previousStep},mapTo:this.state.mapTo,mapFrom:this.state.mapFrom,data:this.state.data,crisisColumnJson:this.state.crisisColumnJson,nextStep:function(){return e.nextStep}});default:return c.a.createElement("h1",null,"Error, please check your entries are correct.")}}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},this.showStep())}}]),a}(l.Component);t.default=f},28:function(e,t,a){"use strict";a.r(t),a.d(t,"TaxButtonElement",(function(){return m}));var n=a(6),s=a(7),r=a(9),o=a(8),i=a(0),l=a.n(i),c=a(12),u=(a(18),a(19)),d=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=u.default.map((function(t,a){return l.a.createElement(m,{key:a,selectedBtn:e.props.mapFrom,text:t.name,handleMapChange:e.props.handleMapFromChange})}));return l.a.createElement("div",{className:"flex-page"},l.a.createElement(c.default,null),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",null,"Which taxonomy are you mapping ",l.a.createElement("b",null,"FROM"),"?")),l.a.createElement("div",{className:"flex-row"},t),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",null,"You have currently selected: ",l.a.createElement("b",null,this.props.mapFrom))),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",{className:"NavButton",onClick:this.props.previousStep()},"Back"),l.a.createElement("div",{className:"NavButton",onClick:this.props.nextStep()},"Next")))}}]),a}(i.Component),m=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e="TaxButton "+(this.props.selectedBtn===this.props.text?"colorOn":"colorOff");return l.a.createElement("div",{className:e,id:this.props.text,onClick:this.props.handleMapChange},this.props.text)}}]),a}(i.Component);t.default=d},34:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(45),o=a.n(r),i=(a(94),a(27)),l=a(44);o.a.render(s.a.createElement(i.default,null),document.getElementById("root")),Object(l.default)()},41:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a(7),r=a(10),o=a(9),i=a(8),l=a(0),c=a.n(l),u=a(12),d=(a(18),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={active:!1},s.showText=s.showText.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("data_link");void 0!==e&&null!==e&&(e.focus(),e.select())}},{key:"showText",value:function(){this.setState((function(e){return{active:!e.active}}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"flex-page"},c.a.createElement(u.default,null),c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",null,"This page will help you convert the disaster terms",c.a.createElement("br",null),"in your dataset from one taxonomy to another:")),c.a.createElement(p,{active:this.state.active,handleClick:this.showText}),c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",null,"Link to googleSheet you wish to map:")),c.a.createElement("div",{className:"flex-row"},c.a.createElement(m,{handleLinkChange:this.props.handleLinkChange,link:this.props.link})),c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"NavButtonGreyed"},"Back"),c.a.createElement("div",{id:"loadFile",className:"NavButton",onClick:this.props.nextAndSave},"Next")))}}]),a}(l.Component)),m=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-row"},c.a.createElement("input",{type:"text",name:"link",id:"data_link",value:this.props.link,onChange:this.props.handleLinkChange})))}}]),a}(l.Component),p=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={active:!1},s}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({active:e.active})}},{key:"render",value:function(){return c.a.createElement("div",{className:"flex-row",onClick:this.props.handleClick},c.a.createElement("a",{href:"#Instructions",className:"flex-row"},"Show instructions"),c.a.createElement("div",{id:"instructions",className:this.state.active?"show":"hidden"},"- Paste your data into a googleSheet,",c.a.createElement("br",null),"- make sure there are ",c.a.createElement("a",{href:"http://hxlstandard.org/"},"HXL tags")," in the second row (app won't work otherwise),",c.a.createElement("br",null),'- make sure your disaster column terms is labelled with the HXL tag "#crisis+type",',c.a.createElement("br",null),'- and make sure your googleSheet is public (top right "share" button: "anyone with link can edit").'))}}]),a}(l.Component);t.default=d},42:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a(7),r=a(9),o=a(8),i=a(0),l=a.n(i),c=a(12),u=(a(18),a(28)),d=a(19),m=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=d.default.map((function(t,a){return l.a.createElement(u.TaxButtonElement,{key:a,selectedBtn:e.props.mapTo,text:t.name,handleMapChange:e.props.handleMapToChange})}));return l.a.createElement("div",{className:"flex-page"},l.a.createElement(c.default,null),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",null,"Which taxonomy are you mapping ",l.a.createElement("b",null,"TO"),"?")),l.a.createElement("div",{className:"flex-row"},t),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",null,"You have currently selected: ",l.a.createElement("b",null,this.props.mapTo))),l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",{className:"NavButton",onClick:this.props.previousStep()},"Back"),l.a.createElement("div",{className:"NavButton",onClick:this.props.nextStep()},"Next")))}}]),a}(i.Component);t.default=m},43:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a(7),r=a(10),o=a(9),i=a(8),l=a(0),c=a.n(l),u=a(12),d=(a(18),a(19)),m=a(21),p=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={finishedProcessing:"no",currentWordFrom:"",currentArrayTo:[],newColumn:[],taxonomyLevelOfTerm:[],dataInNeedOfProcessing:[],step:0},s.nextWordHandler=s.nextWordHandler.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.crisisColumnJson,t={};e.forEach((function(e,a){t[a]=e})),this.processData(t)}},{key:"nextWordHandler",value:function(e){var t,a=e.target.id.match(/\d+/g),n=e.target.id.match(/[a-zA-Z]+/g),s=this.state.taxonomyLevelOfTerm.slice(),r=this.state.newColumn.slice(),o="Level "+this.props.mapTo.substr(this.props.mapTo.length-1);n.forEach((function(e,a){t=0===a?e:t.concat(" "+e)})),r[a]=t,s[a]=o,this.setState({newColumn:r}),this.setState({taxonomyLevelOfTerm:s}),this.state.step===this.state.dataInNeedOfProcessing.length-1?this.setState({finishedProcessing:"yes"}):(this.setState({step:this.state.step+1}),console.log(this.state.step))}},{key:"showProcessingState",value:function(){switch(this.state.finishedProcessing){case"no":return c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-row"},"Step \xa0",c.a.createElement("b",null,this.state.step)),c.a.createElement(f,{dataInNeedOfProcessing:this.state.dataInNeedOfProcessing,data:this.props.data,step:this.state.step,nextWordHandler:this.nextWordHandler}));case"yes":return c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-row"},"Success, we have converted all of your data!"),c.a.createElement("div",{className:"flex-row"},c.a.createElement("table",{className:"scrollable-table"},c.a.createElement("tbody",null,this.createTable(this.combineArrays(this.props.data,this.state.newColumn,this.state.taxonomyLevelOfTerm))))));default:return c.a.createElement("div",{className:"flex-row"},this.state.finishedProcessing)}}},{key:"processData",value:function(e){var t=e,a=[],n=this.props.mapTo.substr(this.props.mapTo.length-1),s=[],r=this.searchTermInTaxonomy(1,n,t,a);for(a=r[0],s=r[1];n>0;)0!==s.length&&(a=(r=this.searchTermInTaxonomy(1,n,s,a))[0],s=r[1]),n--;0===a.length?this.setState({finishedProcessing:"yes"}):this.setState({dataInNeedOfProcessing:a})}},{key:"searchTermInTaxonomy",value:function(e,t,a,n){var s=this.state.taxonomyLevelOfTerm,r=this.state.newColumn,o={},i=this.props.mapTo.slice(0,-1)+t;h.config(d.default);var l=new h.createMap(this.props.mapFrom,i);return Object.keys(a).forEach((function(e){if(e>1){var i=a[e];void 0!==l[i]&&0!==l[i].length?l[i].length>1?n.push([i,l[i],e]):(r[e]=l[i][0]||" ",s[e]="Level "+t):o[e]=i}})),this.setState({taxonomyLevelOfTerm:s}),this.setState({newColumn:r}),[n,o]}},{key:"combineArrays",value:function(e,t,a){var n=[];return e.forEach((function(e,s){0===s&&(t[s]="Converted Term",a[s]="From Taxonomy"),1===s&&(t[s]="#crisis+type",a[s]="#level"),n.push(e.concat(t[s],a[s]))})),n}},{key:"createTable",value:function(e){return e.map((function(e,t){return c.a.createElement("tr",{key:t},e.map((function(e,t){return c.a.createElement("td",{key:t},e)})))}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"flex-page"},c.a.createElement(u.default,null),this.showProcessingState(),c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"NavButton",onClick:this.props.previousStep()},"Back"),c.a.createElement("div",{className:"NavButtonGreyed"},"End")))}}]),a}(l.Component),h={_config:{},config:function(e){return this._config=e,this},createMap:function(e,t){this._tax1={},this._tax2={};var n=this;return this._dataLoaded=0,this.init=function(){if(null!==h._config&&void 0!==h._config)if(h._config.forEach((function(a){a.name===e&&(n._tax1=a),a.name===t&&(n._tax2=a)})),"name"in this._tax1){if("name"in this._tax2){var a=this._loadTaxonomy(this._tax1.url),s=this._loadTaxonomy(this._tax2.url);return console.log(this._tax1.group),n._createMap(a,s)}console.log("Taxonomy 2 not found")}else console.log("Taxonomy 1 not found");else console.log("Error! Load valid config file first!")},this._createMap=function(e,t){var a={};for(var s in e){var r=e[s],o=n._getSubTermsFromBaseTerms(r,t);a[s]=o}return a},this._getSubTermsFromBaseTerms=function(e,t){var a=[];for(var n in t){var s=t[n];!0===this._compareArrays(e,s)&&a.push(n)}return a},this._compareArrays=function(e,t){return t.some((function(t){return e.indexOf(t)>=0}))},this._loadTaxonomy=function(e){return null!==e||void 0!==e?a(195)("./"+e):(console.log("Error loading taxonomy map, please check url in config file!"),null)},this.init()}},f=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={allDOMElements:[]},s}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.createList(this.props.dataInNeedOfProcessing,this.props.data,this.props.step)}},{key:"componentWillReceiveProps",value:function(e){this.createList(this.props.dataInNeedOfProcessing,this.props.data,e.step)}},{key:"createList",value:function(e,t,a){var n=[],s=e.map((function(e,s){return n[s]={},n[s].listOfChoices=e[1].map((function(t,a){var n=t+e[2];return c.a.createElement("div",{className:"button-small",onClick:this.props.nextWordHandler,key:a,id:n},t)}),this),n[s].dataHeaders={data:t,rowStart:0,rowEnd:1},n[s].currentRow={data:t,rowStart:e[2],rowEnd:e[2]+1},c.a.createElement("div",{className:"flex-row",key:s,style:{display:a===s?"inline":"none",transition:"all 400ms"}},this.state.step,c.a.createElement(v,{word:e[0]}),c.a.createElement("div",{className:"flex-row"},n[s].listOfChoices),c.a.createElement("div",{className:"flex-row"},"This is a snapshot of the corresponding row:"),c.a.createElement("div",{className:"flex-row"},c.a.createElement("table",{className:"scrollable-table"},c.a.createElement("tbody",null,c.a.createElement(m.TableRows,{parameters:n[s].dataHeaders}),c.a.createElement(m.TableRows,{parameters:n[s].currentRow})))))}),this);this.setState({allDOMElements:s})}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.allDOMElements)}}]),a}(l.Component),v=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex-row"},c.a.createElement("span",null,"How would you map the following item:\xa0"),c.a.createElement("b",null,this.props.word))}}]),a}(l.Component);t.default=p},44:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s})),a.d(t,"unregister",(function(){return o}));var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(){if("serviceWorker"in navigator){if(new URL("/taxonomies",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/taxonomies","/service-worker.js");n?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):r(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):r(e)}))}}function r(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function o(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(45),o=a.n(r),i=a(27);it("renders without crashing",(function(){var e=document.createElement("div");e.setAttribute("id","data_link"),o.a.render(s.a.createElement(i.default,null),e)}))},96:function(e){e.exports=JSON.parse('{"Tornadoes":["15"],"Heat Wave":["9"],"Flood":["47"],"Extra-tropical Cyclone":["5"],"Other":["64","59"],"Storm Surge":["14"],"Fire":["56"],"Wild Fire":["19"],"Drought":["3"],"Tech. Disaster":["49","50","51","52"],"Mudslide":["10"],"Tsunami":["16"],"Snow Avalanche":["13"],"Volcano":["18"],"Flash Flood":["42","43","44","45","69"],"Tropical Cyclone":["6"],"Severe Local Storm":["12"],"Violent Wind":["17"],"Insect Infestation":["30","31","32"],"Complex Emergency":["2"],"Epidemic":["22","23","24","25","26","27","28","29"],"Earthquake":["4"],"Cold Wave":["1"]}')},97:function(e){e.exports=JSON.parse('{"Geophysical Disaster":["4","10","13","16","18"],"Other Disaster":["64"],"Climatological Disaster":["1","9","3"],"Non Technological Man Made Disaster":["54","2","56","57","58","59"],"Biological Disaster":["22","23","24","25","26","27","28","29","30","31","32"],"Meteorological Disaster":["5","6","62","63","15","7","12","17"],"Technological and Man Made Disaster":["49","50","51","52","66","67","68"],"Hydrological Disaster":["14","42","43","44","45","47","69"]}')},98:function(e){e.exports=JSON.parse('{"Volcanic Eruption":["18"],"Chemical Emergency":["68"],"Insect Infestation":["30","31","32"],"Radiological Emergency":["67"],"Flood":["47"],"Population Movement":["59"],"Storm Surge":["14"],"Cyclone":["5","6","62","63"],"Nuclear Emergency":["66"],"Pluvial/Flash Flood":["42","43","44","45","69"],"Tornado":["15"],"Food Insecurity":["57","58"],"Drought":["3"],"Transport Accident":["49","50","51","52"],"Earthquake":["4"],"Complex Emergency":["2"],"Landslide":["10","13"],"Civil Unrest":["54"],"Heat Wave":["9"],"Tsunami":["16"],"Epidemic":["22","23","24","25","26","27","28","29"],"Fire":["19","56"],"Cold Wave":["1"]}')},99:function(e){e.exports=JSON.parse('{"Bacterial Disease":["25"],"Other/unclassified Epidemics":["29"],"Extra-tropical Cyclone":["5"],"River (fluvial) Floods":["47"],"Glacial Lake Outburst Floods":["45"],"Malaria":["28"],"Typhoon":["63"],"Wild Fire":["19"],"Water Accident":["51"],"Viral Disease":["24","26","27"],"Pluvial Floods":["43"],"Road Accident":["50"],"Hurricane":["62"],"Locust":["31"],"Urban Floods":["42"],"Sewer Floods":["44"],"Fungal Disease":["22"],"Forest Fire":["65"],"Tropical Cyclone":["6"],"Grasshopper":["30"],"Rail Accident":["52"],"Prion Disease":["23"],"Air Accident":["49"],"Other Insect Infestation":["32"],"Flash Floods":["69"]}')}},[[101,1,2]]]);
//# sourceMappingURL=main.88954dbb.chunk.js.map